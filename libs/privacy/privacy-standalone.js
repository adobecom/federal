(()=>{var Le=Object.defineProperty;var ie=Object.getOwnPropertySymbols;var Te=Object.prototype.hasOwnProperty,xe=Object.prototype.propertyIsEnumerable;var ce=(e,t,o)=>t in e?Le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,$=(e,t)=>{for(var o in t||(t={}))Te.call(t,o)&&ce(e,o,t[o]);if(ie)for(var o of ie(t))xe.call(t,o)&&ce(e,o,t[o]);return e};var ae=["C0001","C0002","C0003","C0004"],$e=ae[0],Oe="https://cdn.cookielaw.org/consent/",Ae="onetrust",Ie="feds_location",De="https://geo2.adobe.com/json/?callback=",Re="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js",Me=3e3,qe={age:["agegroup_under13","agegroup_13_15","agegroup_16_17"],edu:["edu","edu_k12","edu_hed","edu_student"]},Ve={gpc:"GPC",group:"User Group",user:"User Initiated"},Ge="OptanonAlertBoxClosed",je="OptanonConsent",j="#onetrust-banner-sdk",Be=`${j} #onetrust-accept-btn-handler`,Ne="#ot-banner-close",Ue=`${j} #onetrust-pc-btn-handler`,_e="#ot-cookie-button",ze=`${j} #onetrust-reject-all-handler`,He=`${j} #onetrust-button-group`,T="#onetrust-pc-sdk",Fe=`${T} #pc-title`,Je=`${T} .enable-all-btn`,Ke=`${T} #first-party-cookies-domain`,We=`${T} .switch-checkbox`,Xe=`${T} .pc-close-button`,Ye=`${T} .pc-save-and-close`,Qe=`${T} .ot-general-question`,Ze=`${T} .disable-all-btn`,et=`${T} .host-item > input`,K="#ot-cookie-settings",tt=`${K} .cs-close`,ot=`${K} .ot-sdk-show-settings`,le="#onetrust-consent-sdk",nt=`${le} .onetrust-pc-dark-filter`,st="hold-banner",rt="adobePrivacy:PrivacyConsent",it="adobePrivacy:PrivacyCustom",ct="adobePrivacy:PrivacyReject",at="feds.events.oneTrustReady",s={categories:ae,categoriesDefault:$e,configEndpoint:Oe,id:Ae,location:Ie,locationURL:De,url:Re,events:{privacyConsent:rt,privacyConsentCustom:it,privacyReject:ct,oneTrustReady:at},cookies:{consent:je,interaction:Ge},selectors:{banner:j,bannerAccept:Be,bannerClose:Ne,bannerCustomize:Ue,bannerIcon:_e,bannerReject:ze,buttonGroup:He,preferenceCenter:T,preferenceCenterTitle:Fe,preferenceCenterAccept:Je,preferenceCenterAlwaysActive:Ke,preferenceCenterCheckboxes:We,preferenceCenterClose:Xe,preferenceCenterConfirm:Ye,preferenceCenterFaqs:Qe,preferenceCenterReject:Ze,preferenceCenterViewCookies:et,holdBanner:st,toastNotification:K,toastNotificationClose:tt,toastNotificationManage:ot,wrapper:le,backdrop:nt},restrictions:{imsTimeout:Me,userTags:qe,modes:Ve}};var lt=(e,t)=>{let o;typeof window.CustomEvent=="function"?o=new window.CustomEvent(e,{detail:t}):(o=document.createEvent("CustomEvent"),o.initCustomEvent(e,!1,!1,t)),window.dispatchEvent(o)},O=lt;var dt=e=>typeof e=="object"&&!Array.isArray(e)&&e!==null,R=dt;var ut=(e,t)=>(R(e)||Array.isArray(e))&&typeof t=="string"&&!!t.length?Object.prototype.hasOwnProperty.call(e,t):!1,g=ut;var pt=(e,t)=>{let o,n,r,i;if(e&&typeof e=="object"&&!Array.isArray(e)&&typeof t=="string"&&Object.keys(e).length&&t.length)for(o=t.split("."),r=o.length,i=e,n=0;n<r;n+=1)if(g(i,o[n]))i=i[o[n]];else return;return i},h=pt;var ft=e=>R(e)?Object.keys(e).length===0:!0,b=ft;var mt=e=>typeof e=="function",w=mt;var gt=(e,t)=>{let n=g(t,"target")&&typeof t.target=="string"&&!!t.target.length?t.target:"head",r=document.querySelector(n),i=e instanceof HTMLLinkElement,c=e instanceof HTMLScriptElement;r instanceof HTMLElement&&(i||c)&&r.appendChild(e)},W=gt;var ht="fedsDebug",Ct="*",wt="Debug mode",L=class{constructor(t={}){let o=new URLSearchParams(window.location.search);this.module=t.control,this.debug=o.getAll(ht).some(n=>n===this.module||n===Ct),this.debug&&this.log(wt),window.feds=window.feds||{},window.feds.debug=window.feds.debug||[],window.feds.debug.push(this.module)}message(...t){let o=[`${this.module}:`];return t.forEach(n=>o.push(n)),o.concat()}log(...t){this.debug&&window.console.log.apply(null,this.message(...t))}warn(...t){this.debug&&window.console.warn.apply(null,this.message(...t))}error(...t){this.debug&&window.console.error.apply(null,this.message(...t))}};var S={},yt=new L({control:"createResourceLink"});S.scriptType="script";S.styleType="style";S.allowedTypes=[S.scriptType,S.styleType];S.isConfigValid=e=>{let t=!b(e),o=g(e,"path")?typeof e.path=="string"&&!!e.path.length:!1,n=S.allowedTypes.indexOf(e.type)>-1,r=g(e,"async")?typeof e.async=="boolean":!0,i=g(e,"crossorigin")?typeof e.crossorigin=="boolean":!0,c=g(e,"data")?!b(e.data):!0,p=g(e,"successCallback")?w(e.successCallback):!0,a=g(e,"errorCallback")?w(e.errorCallback):!0,d=g(e,"id")?typeof e.id=="string"&&!!e.id.length:!0,l=g(e,"where")?typeof e.where=="string"&&!!e.where.length&&document.querySelector(e.where)instanceof HTMLElement:!0,u=g(e,"when")?typeof e.when=="string"&&!!e.when.length:!0;return t&&o&&n&&r&&i&&c&&p&&a&&d&&l&&u};S.generateResource=e=>{let t;return e.type===S.scriptType?(t=document.createElement("script"),t.type="text/javascript",t.src=e.path,g(e,"async")&&(t.async=e.async),g(e,"crossorigin")&&e.crossorigin===!0&&t.setAttribute("crossorigin",e.crossorigin),g(e,"data")&&!b(e.data)&&Object.keys(e.data).forEach(o=>{t.setAttribute(`data-${o}`,e.data[o])})):e.type===S.styleType&&(t=document.createElement("link"),t.type="text/css",t.rel="stylesheet",t.href=e.path),g(e,"id")&&(document.querySelector(`#${e.id}`)===null?t.id=e.id:yt.error("element id is already used",t)),t};var bt=e=>{if(!(b(e)||!S.isConfigValid(e)))return new Promise((t,o)=>{let n=S.generateResource(e);n.addEventListener("load",()=>{t(n),g(e,"successCallback")&&e.successCallback(n)}),n.addEventListener("error",r=>{o(r),g(e,"errorCallback")&&e.errorCallback(r)}),g(e,"when")?window.addEventListener(e.when,()=>{W(n,{target:e.where})}):W(n,{target:e.where})})},V=bt;var kt=()=>{let e=window.sessionStorage.getItem(s.location);if(e!==null&&e!=="")try{e=JSON.parse(e),(!g(e,"country")||e.country==="")&&(e=null)}catch(t){e=null}return e},vt=e=>{let t={},{country:o,state:n}=e;return o&&(t.country=o),n&&(t.state=n),t},St=()=>new Promise(e=>{let t=kt();if(t!==null)e(t);else{let o=`privacy_${Date.now()}${Math.round(1e5*Math.random())}`;window[o]=n=>{let r=vt(n);window.sessionStorage.setItem(s.location,JSON.stringify(r)),e(r),delete window[o]},V({path:`${s.locationURL}${o}`,type:"script"}).catch(()=>{e({})})}}),G=St;var Pt=()=>{let e=document.querySelector('script[src*="/privacy-standalone.js"]')||document.querySelector('script[src$="/feds.js"]');if(e){let t=document.createElement("a");return t.href=e.src,t.host==="www.adobe.com"}return!1},B=Pt;var Et=(e,t)=>{let o,n,r,i;if(typeof e=="string"&&e.length&&typeof document.cookie=="string"){o=document.cookie.split("; ");let{length:c}=o;for(n=c-1;n>=0;n-=1)if(r=o[n],typeof r=="string"&&r.length&&(r=r.split(/=(.+)/),e===r[0])){if(typeof t=="boolean"&&t)return[,i]=r,i;i=window.decodeURIComponent(r[1])}}return i},M=Et;var Lt=()=>{var e;return!!((e=window.navigator)!=null&&e.globalPrivacyControl)},z=Lt;var Tt=(e,t)=>{for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t},X=Tt;var de=new L({control:"privacy"}),N=(e,t)=>{let o=!1;if(typeof e!="string"||e==="")return;let r=`https://sstats.adobe.com/ee/v1/interact?configId=${`11dd9af9-1455-4159-bb5e-0b1fdf039f76:${B()?"prod":"dev"}`}&requestId=${X()}`,i=`${window.location.protocol}//${window.location.host}${window.location.pathname}`,c={};w(h(window,"OneTrust.getGeolocationData"))&&(c=window.OneTrust.getGeolocationData());let p=h(window,"fedsConfig.privacy.otDomainId"),a={xdm:{web:{webPageDetails:{name:i,URL:i},webInteraction:{type:"other",name:e}},_adobe_corpnew:{consentTracking:{activeGroups:window.adobePrivacy.activeCookieGroups().toString(),activeGroupsArray:window.adobePrivacy.activeCookieGroups(),domainID:p,continent:c.continent||"",country:c.country||"",state:c.state||"",stateName:c.stateName||"",city:c.city||"",zipcode:c.zipcode||"",timezone:c.timezone||""}}}};try{a.xdm.timestamp=new Date().toISOString()}catch(l){}typeof t!="undefined"&&(a.xdm._adobe_corpnew.consentTracking.type=t);let d=l=>{if(o)return;l&&(a.xdm.identityMap={ECID:[{id:l}]});let u=new window.XMLHttpRequest;u.open("POST",r,!0),u.setRequestHeader("Content-Type","text/plain"),u.withCredentials=!1,u.send(JSON.stringify({events:[a]})),o=!0,de.log("analytics data",a)};if(w(h(window,"_satellite.getVisitorId"))){let l=window._satellite.getVisitorId();if(R(l)&&w(l.getMarketingCloudVisitorID)){let u=l.getMarketingCloudVisitorID(d);u&&d(u)}else d()}else{let l=M("AMCV_9E1005A551ED61CA0A490D45%40AdobeOrg");typeof l=="string"&&l.length?(l=l.split("MCMID|"),l=l[1],typeof l=="string"&&l.length?(l=l.split("|"),l=l[0],d(l)):d()):d()}},q=(e={})=>{let t=!1;if(b(e)||!e.eventName)return;let n=`https://sstats.adobe.com/ee/v1/interact?configId=${B()?"8d7bac14-04dd-47cb-9710-7d4b1358467a":"20b030dd-b713-45da-8ff7-0a7027d2da29"}&requestId=${X()}`,r=`${window.location.protocol}//${window.location.host}${window.location.pathname}`,i=h(window,"fedsConfig.privacy.otDomainId"),c={};w(h(window,"OneTrust.getGeolocationData"))?c=window.OneTrust.getGeolocationData():c=G();let p=window.navigator.language||window.navigator.userLanguage;e.usePageLanguage&&(p=document.documentElement.lang);let a=e.source;a&&e.element&&(a+=`|${e.element}`);let d;document.querySelector(s.selectors.banner)&&(d="Cookie banner");let u=document.querySelectorAll(`${s.selectors.buttonGroup} button`);u&&u.length===3&&(d="Cookie banner with opt-out button");let E={data:{eventType:"web.webInteraction.linkClicks",timestamp:new Date().toISOString(),web:{webPageDetails:{name:r,URL:r},webInteraction:{type:"other",name:e.eventName,linkClicks:{value:1}}},_adobe_corpnew:{consentTracking:{activeGroups:window.adobePrivacy.activeCookieGroups().toString(),activeGroupsArray:window.adobePrivacy.activeCookieGroups(),group:e.userGroup||"unspecified",bannerDesign:d,city:c.city,continent:c.continent,country:c.country,customMode:e.customMode,domainID:i,gpc:z(),holdBanner:!!h(window,"fedsConfig.privacy.holdBanner"),interaction:a,language:p,modalLaunchMethod:e.modalLaunchMethod,state:c.state,stateName:c.stateName,timezone:c.timezone,type:e.choiceType,zipcode:c.zipcode}}}},v=m=>{if(t)return;m&&(E.data.identityMap={ECID:[{id:m}]});let D=new window.XMLHttpRequest;D.open("POST",n,!0),D.setRequestHeader("Content-Type","text/plain"),D.withCredentials=!1,D.send(JSON.stringify({events:[E]})),t=!0,de.log("analytics data",E)};if(w(h(window,"_satellite.getVisitorId"))){let m=window._satellite.getVisitorId();if(R(m)&&w(m.getMarketingCloudVisitorID)){let D=m.getMarketingCloudVisitorID(v);D&&v(D)}else v()}else{let m=M("AMCV_9E1005A551ED61CA0A490D45%40AdobeOrg");typeof m=="string"&&m.length?(m=m.split("MCMID|"),m=m[1],typeof m=="string"&&m.length?(m=m.split("|"),m=m[0],v(m)):v()):v()}},xt=(e={})=>{N("choice","enable"),q($({eventName:"choice",choiceType:"enable"},e))},$t=(e={})=>{N("choice","disable"),q($({eventName:"choice",choiceType:"disable"},e))},Ot=(e={})=>{N("choice","custom"),q($({eventName:"choice",choiceType:"custom"},e))},At=(e={})=>{q($({eventName:"showModal"},e))},It=(e={})=>{N("closeModal"),q($({eventName:"closeModal"},e))},Dt=(e={})=>{N("showBanner"),q($({eventName:"showBanner"},e))},Rt=(e={})=>{q($({eventName:"choice"},e))},P={trackCustomConsent:Ot,trackEnableAll:xt,trackShowBanner:Dt,trackHidePreferenceCenter:It,trackShowPreferenceCenter:At,trackRejectAll:$t,trackMinimizeBanner:Rt};var Mt=(e,t)=>{let o;if(!e||!t)return null;if(w(window.Element.prototype.matches))o=e.matches(t);else{let n=function(c){let p=(this.document||this.ownerDocument).querySelectorAll(c),a=p.length;do a-=1;while(a>=0&&p.item(a)!==this);return a>-1};o=(e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||n).apply(e,[t])}return o},ue=Mt;var qt=(e,t)=>{let o=e,n;if(!o||!t)return null;if(w(window.Element.prototype.closest))n=o.closest(t);else for(;o&&o.nodeType===1;){if(ue(o,t)){n=o;break}o=o.parentNode}return n},C=qt;var Vt=e=>{let t=e,o=t.split("."),n=o.length;return n>2&&(t=`${o[n-2]}.${o[n-1]}`,o[n-2].length===2&&o[n-1].length===2&&(t=`${o[n-3]}.${t}`)),t},pe=Vt;var Gt=e=>!!(e&&e instanceof HTMLElement&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&window.getComputedStyle(e).getPropertyValue("visibility")!=="hidden"),fe=Gt;var jt=e=>{let t=e.filter(n=>s.restrictions.userTags.age.includes(n));if(t.length)return[!0,t];let o=e.filter(n=>s.restrictions.userTags.edu.includes(n));return o.length?e.includes("edu_teacher")?e.includes("edu_student")?[!0,o]:[!1]:[!0,o]:[!1]},me=jt;var Y={ar:"\u062A\u0641\u0636\u064A\u0644\u0627\u062A Cookie",bg:"\u041F\u0440\u0435\u0434\u043F\u043E\u0447\u0438\u0442\u0430\u043D\u0438\u044F \u0437\u0430 \u0431\u0438\u0441\u043A\u0432\u0438\u0442\u043A\u0438",cs:"P\u0159edvolby pro soubory cookie",da:"Cookie-indstillinger ",de:"Cookie-Einstellungen",en:"Cookie preferences",es:"Preferencias sobre cookies",et:"Cookie eelistused",fi:"Cookie-asetukset",fr:"Pr\xE9f\xE9rences en mati\xE8re de cookies",he:"\u05D4\u05E2\u05D3\u05E4\u05D5\u05EA \u05DC\u05E7\u05D5\u05D1\u05E6\u05D9 Cookie",hu:"Cookie-be\xE1ll\xEDt\xE1sok",it:"Preferenze sui cookie",ja:"Cookie\u306E\u74B0\u5883\u8A2D\u5B9A",ko:"Cookie \uD658\uACBD \uC124\uC815",lt:"Slapuk\u0173 nuostatos",lv:"Cookie preferences",nb:"Cookie-innstillinger",nl:"Cookievoorkeuren",no:"Cookie-innstillinger",pl:"Preferencje dotycz\u0105ce plik\xF3w cookie",pt:"Preferencias sobre cookies","pt-br":"Prefer\xEAncias de cookies",ro:"Preferin\u021Be privind cookie-urile",ru:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 cookie",sk:"Preferencie pou\u017E\xEDvania s\xFAborov cookie",sl:"Nastavitve pi\u0161kotkov",sv:"Cookie-inst\xE4llningar ",tr:"\xC7erez tercihleri",uk:"\u041D\u0430\u043B\u0430\u0448\u0442\u0443\u0432\u0430\u043D\u043D\u044F \u0444\u0430\u0439\u043B\u0456\u0432 cookie",zh:"Cookie \u504F\u597D\u8BBE\u7F6E","zh-hk":"Cookie \u504F\u597D\u8A2D\u5B9A","zh-hans":"Cookie \u504F\u597D\u8BBE\u7F6E","zh-hant":"Cookie \u504F\u597D\u8A2D\u5B9A","zh-tw":"Cookie \u504F\u597D\u8A2D\u5B9A"};Y.default=Y.en;var H=Y;var Bt=(e,t,o,n)=>{let r="",i,c,p,a;typeof e=="string"&&e.length&&typeof document.cookie=="string"&&(typeof n=="boolean"&&n?r+=`${e}=${t}`:r+=`${window.encodeURIComponent(e)}=${window.encodeURIComponent(t)}`,b(o)||(i=o.path,typeof i=="string"&&i.length&&(r+=`; path=${i}`),c=o.expiration,c instanceof Date&&(r+=`; expires=${c.toUTCString()}`),p=o.domain,typeof p=="string"&&p.length&&(r+=`; domain=${p}`),a=o.sameSite,typeof a=="string"&&a.length&&(r+=`; Samesite=${a}`)),document.cookie=r)},ge=Bt;var Q=!1,Nt=()=>new Promise((e,t)=>{let n=setTimeout(()=>{Q||(Q=!1,t())},s.restrictions.imsTimeout),r=i=>{var p;let c=(p=i==null?void 0:i.detail)==null?void 0:p.instance;if(!c){t();return}Q=!0,window.removeEventListener("onImsLibInstance",r),clearTimeout(n),e(c)};window.addEventListener("onImsLibInstance",r),O("getImsLibInstance",null)}),he=Nt;var y=new L({control:"privacy"}),A=()=>{let e=[],t=M(s.cookies.consent);try{t=t.split("groups="),t=t[1],t=t.split("&"),t=t[0],t=t.split(","),t.forEach(o=>{if(o.indexOf(":1")!==-1){let n=o.replace(":1","");e.push(n)}})}catch(o){y.log("Could not parse consent cookie")}return e},_=()=>{let e=!1,t=M(s.cookies.interaction);return t&&typeof Date.parse(t)=="number"&&A().length&&(e=!0),e},oe=()=>new Promise(e=>{let t=h(window,"OneTrust.GetDomainData");if(w(t)&&t().isBannerLoaded)e();else{let o=document.querySelector("html");o.addEventListener("otloadbanner",function n(){e(),o.removeEventListener("otloadbanner",n)})}}),ye=()=>{if(_()){let e=A(),t=e.length&&e.length===s.categories.length,o=e.length===1&&e.indexOf(s.categoriesDefault)!==-1,n=e.length&&e.length!==s.categories.length&&!o;t&&(O(s.events.privacyConsent),y.log(`${s.events.privacyConsent} dispatched`)),n&&(O(s.events.privacyConsentCustom),y.log(`${s.events.privacyConsentCustom} dispatched`)),!t&&!n&&(O(s.events.privacyReject),y.log(`${s.events.privacyReject} dispatched`))}},F,be=()=>{if(F)return F;let e=h(window,"fedsConfig.privacy.otDomainId");return F=window.fetch(`${s.configEndpoint}${e}/${e}.json`).then(t=>t.json()).catch(()=>{}),F},ke=(e,t,o)=>{if(!e||!t)return;let n=new Date(new Date().setFullYear(new Date().getFullYear()+1)),r=h(o,"TenantFeatures.CookiesSameSiteNone")===!0?"None; Secure":"Lax",c=h(o,"ScriptType")==="TEST"?void 0:`.${pe(window.location.hostname)}`;ge(e,t,{path:"/",domain:c,expiration:n,sameSite:r},!0)},ne=()=>document.querySelector(`body > ${s.selectors.toastNotification}`),Ut=()=>{if(ne()instanceof HTMLElement)return;let e=`
        <div class="cs-container">
            <div class="cs-cols">
                <div class="cs-check"></div>
                <div class="cs-text"></div>
            </div>
            <div class="cs-cols">
                <a href="#" class="ot-sdk-show-settings">
                    <div class="cs-settings-text"></div>
                </a>
                <div class="cs-close">
                    <span>x</span>
                </div>
            </div>
        </div>`,t=document.createElement("div");t.setAttribute("id",s.selectors.toastNotification.replace("#","")),t.classList.add(s.selectors.toastNotification.replace("#","")),t.appendChild(document.createRange().createContextualFragment(e)),document.body.appendChild(t)},ee=()=>{let e=ne();e&&(e.blur(),e.classList.remove("show"),e.removeAttribute("tabindex"),e.style.removeProperty("outline"))},Z=()=>{Ut();let e=ne();e.setAttribute("tabindex",0),e.style.setProperty("outline",0),e.classList.add("show"),e.focus(),setTimeout(()=>{ee()},1e4);let t=document.querySelector(s.selectors.bannerIcon);t&&t.parentNode.removeChild(t)},se=()=>{document.querySelector(s.selectors.preferenceCenterConfirm).style.setProperty("display","none")},ve=()=>fe(document.querySelector(s.selectors.preferenceCenter)),J=()=>{if(ve())try{window.OneTrust.Close(),document.body.style.setProperty("overflow",""),document.documentElement.style.setProperty("overflow","")}catch(e){}},_t=e=>{let t=(n,r)=>{try{let i=n.parentElement.querySelector(`#${n.getAttribute("aria-controls")}`);r?(n.parentElement.classList.add("opened"),n.setAttribute("aria-expanded","true"),i.setAttribute("aria-hidden","false"),i.style.setProperty("display","block")):(n.parentElement.classList.remove("opened"),n.setAttribute("aria-expanded","false"),i.setAttribute("aria-hidden","true"),i.style.setProperty("display","none"))}catch(i){y.log("Could not find active item")}},o=document.querySelectorAll(s.selectors.preferenceCenterFaqs);Array.prototype.forEach.call(o,n=>{if(n===e){let r=n.getAttribute("aria-expanded")==="true";t(n,!r)}else t(n,!1)})},zt=(e,t)=>{if(!e||e===s.categoriesDefault||s.categories.indexOf(e)===-1)return;let o=document.querySelector(`input[data-optanongroupid="${e}"]`);if(!document.querySelector(s.selectors.banner)){let n=document.createElement("div");n.id=s.selectors.banner.replace("#",""),n.style="display: none";let r=document.querySelector(s.selectors.wrapper);r instanceof HTMLElement&&r.appendChild(n)}o instanceof HTMLElement&&(t?o.checked||(o.click(),y.log(`Check category ${e} programatically in Preference Center`)):o.checked&&(o.click(),y.log(`Uncheck category ${e} programatically in Preference Center`)))},Ht=()=>{let e=[],t=A().sort(),o=document.querySelectorAll(s.selectors.preferenceCenterCheckboxes);Array.prototype.forEach.call(o,r=>{r.checked&&e.push(r.getAttribute("data-optanongroupid"))}),e=e.sort();let n=document.querySelector(s.selectors.preferenceCenterConfirm);JSON.stringify(e)!==JSON.stringify(t)?n.style.setProperty("display","inline-block"):n.style.setProperty("display","none")},Ft=e=>{let t=C(e,".category-item");if(!t)return;let o=t.querySelector(".category-header"),n=t.querySelector(".ot-cookie-description"),r=document.querySelector("#vendors-list-title");if(!o||!r)return;let i=o.innerHTML;n&&(i+=`<div class='ot-cookie-description'>${n.innerHTML}</div>`),r.innerHTML=i;let c=document.querySelector(s.selectors.preferenceCenterAlwaysActive);if(!c)return;c.innerHTML=window.location.hostname;let p=C(c,"li");p&&p.classList.add("always-active")},Jt=()=>{J(),se();let e=[];return s.categories.forEach(t=>{e.push(`${t}:1`)}),I(e,!0)},Kt=()=>{J(),se();let e=A(),t=[];return s.categories.forEach(o=>{t.push(`${o}:${e.indexOf(o)!==-1?"1":"0"}`)}),I(t,!0)},Wt=()=>{J(),se();let e=[];return s.categories.forEach(t=>{e.push(`${t}:${t===s.categoriesDefault?"1":"0"}`)}),I(e,!0)},Xt=()=>{let e=document.querySelector(s.selectors.banner),t=document.querySelector(s.selectors.bannerClose),o=document.querySelector(s.selectors.bannerIcon);e&&(t||e.insertAdjacentHTML("beforeend",`<div id='${s.selectors.bannerClose.replace("#","")}'></div>`),t=document.querySelector(s.selectors.bannerClose),t.addEventListener("click",()=>{e.classList.remove("slide-up"),e.classList.add("slide-down"),o||(e.parentElement.insertAdjacentHTML("beforeend",`<div id='${s.selectors.bannerIcon.replace("#","")}'></div>`),o=document.querySelector(s.selectors.bannerIcon),o.addEventListener("click",()=>{e.classList.remove("slide-down"),e.classList.add("slide-up"),o.classList.remove("show")})),o.classList.add("show")}))},k=()=>{let e=document&&document.documentElement&&document.documentElement.lang,t=!1;return e&&e.length&&h(window,"fedsConfig.privacy.documentLanguage")===!0&&(t=!0),t},Ce=!1,Se=()=>{Ce||(oe().then(()=>{_()||(Xt(),P.trackShowBanner({usePageLanguage:k()}));let e=document.querySelector(s.selectors.bannerCustomize);e&&e.addEventListener("click",()=>{te(),P.trackShowPreferenceCenter({source:"Banner",element:"Cookie Settings",modalLaunchMethod:"Cookie Settings on Banner",usePageLanguage:k()})})}),window.addEventListener("click",e=>{if(setTimeout(()=>{ve()&&Ft(e.target),(C(e.target,s.selectors.bannerAccept)||C(e.target,s.selectors.preferenceCenterAccept))&&(U(),Jt().then(({customMode:t,userGroup:o}={})=>{Z();let n=C(e.target,s.selectors.bannerAccept);P.trackEnableAll({source:n?"Banner":"Modal",element:"Enable all",usePageLanguage:k(),customMode:t,userGroup:o})})),C(e.target,s.selectors.preferenceCenterConfirm)&&(U(),Kt(e.target).then(({customMode:t,userGroup:o}={})=>{Z(),P.trackCustomConsent({source:"Modal",element:"Confirm my choices",usePageLanguage:k(),customMode:t,userGroup:o})})),(C(e.target,s.selectors.bannerReject)||C(e.target,s.selectors.preferenceCenterReject))&&(U(),Wt().then(({customMode:t,userGroup:o}={})=>{Z();let n=C(e.target,s.selectors.bannerReject);P.trackRejectAll({source:n?"Banner":"Modal",element:"Don't enable",usePageLanguage:k(),customMode:t,userGroup:o})})),C(e.target,s.selectors.preferenceCenterFaqs)&&_t(e.target),C(e.target,s.selectors.preferenceCenterCheckboxes)&&Ht(),C(e.target,s.selectors.preferenceCenterClose)&&(U(),document.querySelector(s.selectors.preferenceCenterConfirm).style.setProperty("display","none"),we(),P.trackHidePreferenceCenter({usePageLanguage:k()})),C(e.target,s.selectors.toastNotificationClose)&&ee(),C(e.target,s.selectors.bannerClose)&&P.trackMinimizeBanner({source:"Banner",element:"Minimize banner",usePageLanguage:k()})},0),C(e.target,s.selectors.toastNotificationManage)&&(e.preventDefault(),ee(),re({source:"Toast",element:"Manage Cookie Settings",modalLaunchMethod:"Cookie Settings on Toast",usePageLanguage:k()})),C(e.target,s.selectors.backdrop)){e.preventDefault();let t=document.querySelector(s.selectors.preferenceCenterClose);t==null||t.click()}}),window.addEventListener("keydown",e=>{C(e.target,s.selectors.preferenceCenterViewCookies)&&(e.code||e.key)==="Enter"&&e.target instanceof HTMLElement&&e.target.click(),C(e.target,s.selectors.wrapper)&&(e.code||e.key)==="Escape"&&e.target instanceof HTMLElement&&(U(),we())}),Ce=!0)},Pe=()=>{let e=k();y.log("Use page language to render Banner and Preference Center",e),V({path:s.url,type:"script",id:s.id,crossorigin:!0,data:{"domain-script":h(window,"fedsConfig.privacy.otDomainId"),"document-language":e}})},Yt=()=>{var e,t;(e=document.querySelector(s.selectors.banner))==null||e.remove(),(t=window.OneTrust)==null||t.LoadBanner()},te=e=>{e&&Qt(e);let t=document.querySelector(s.selectors.preferenceCenter);Zt(t),setTimeout(()=>{document.body.style.setProperty("overflow","hidden"),t.setAttribute("role","dialog");let o=document.querySelector(s.selectors.preferenceCenterTitle);o&&(o.setAttribute("tabindex",0),o.focus())},0)},[Qt,we]=(()=>{let e=!1,t=null;return[o=>{e=!0,t=o},()=>{e&&(t.focus(),e=!1),t=null}]})(),[Zt,U]=(()=>{let e=new Set;return[t=>{if(!t||!(t instanceof Element))return;let o=t;for(;o.parentElement&&o.parentElement!==document.body;)o=o.parentElement;Array.from(document.body.children).forEach(i=>{i!==o&&(i.hasAttribute("aria-hidden")||(i.setAttribute("aria-hidden","true"),e.add(i)))});let r=o.querySelector(s.selectors.banner);r&&(r.setAttribute("aria-hidden","true"),e.add(r))},()=>{e.forEach(t=>{t.removeAttribute("aria-hidden")}),e.clear()}]})(),re=(e={modalLaunchMethod:"Programatically",usePageLanguage:k()})=>{Se();let t=h(window,"OneTrust.ToggleInfoDisplay");w(t)?(t(),P.trackShowPreferenceCenter(e),te(e==null?void 0:e.triggerElement)):(Pe(),oe().then(()=>{let o=h(window,"OneTrust.ToggleInfoDisplay");w(o)&&(o(),P.trackShowPreferenceCenter(e),te(e==null?void 0:e.triggerElement))}))},eo=()=>{let e=document.createElement("style");document.head.appendChild(e);let t=e.sheet;t.insertRule(`${s.selectors.wrapper} ${s.selectors.banner}.${s.selectors.holdBanner} { display: none }`),t.insertRule(`${s.selectors.banner}.bottom { bottom: 0 !important }`)},to=()=>{window.addEventListener("click",e=>{let t=h(window,"fedsConfig.privacy.footerLinkSelector");t&&C(e.target,t)&&(e.preventDefault(),re({modalLaunchMethod:"Footer link",usePageLanguage:k(),triggerElement:e.target}))})},oo=()=>{let e=o=>{if(o){if(H[o])return H[o];if(o.indexOf("-")!==-1)return e(o.substr(0,2))}return H.default},t=()=>{let o=h(window,"fedsConfig.privacy.footerLinkSelector");if(typeof o!="string"||o.length===0)return;let n=document.querySelector(o);if(!n)return;let r=window.navigator.language||window.navigator.userLanguage;k()&&(r=document.documentElement.lang),n.innerText=e(r.toLowerCase())};document.readyState==="loading"?document.addEventListener("readystatechange",function o(){t(),document.removeEventListener("readystatechange",o)}):t()},I=(e,t=!0)=>{let o=[],n=[];if(e.forEach(a=>{let[d,l]=a.split(":");if(d===s.categoriesDefault&&l==="0"){o.push(`${d}:1`),n.push(d);return}s.categories.indexOf(d)!==-1&&(n.push(d),o.push(a))}),n.sort().toString()!==s.categories.toString())return y.log("New consent does not include all categories, cannot update"),Promise.resolve();let r=()=>{let a=M(s.cookies.consent),d=[];a&&a.length?(a=a.split("&"),a.forEach(u=>{let[E,v]=u.split("="),m=v;E==="groups"&&(m=o.join(",")),E==="datestamp"&&(m=new Date().toString()),d.push(`${E}=${encodeURIComponent(m).replace(/%20/g,"+")}`)})):d.push(`groups=${encodeURIComponent(o.join(",")).replace(/%20/g,"+")}`);let l=u=>{ke(s.cookies.consent,d.join("&"),u),y.log("Setting consent",o),o.forEach(E=>{let[v,m]=E.split(":");zt(v,m==="1")}),t&&ye()};return be().then(l).catch(l)},i=()=>o.indexOf("C0004:1"),c=()=>i()!==-1,p=a=>{let{edu:d,age:l}=s.restrictions.userTags;return a.find(u=>l.includes(u))?"age":a.find(u=>d.includes(u))?"edu":"unspecified"};return new Promise(a=>{let d=(l={})=>{let u={customMode:l.customMode||s.restrictions.modes.user,userGroup:l.userGroup};r().then(()=>{a(u)}).catch(()=>{a(u)})};c()?G().then(()=>{z()?(y.log("User has Global Privacy Control ON - disabling C0004"),o[i()]="C0004:0",d({customMode:s.restrictions.modes.gpc})):he().then(l=>{l.isSignedInUser()?l.getProfile().then(u=>{let[E,v]=me(u.tags);E?(y.log(`User is part of sensitive group ${v.join(",")} - disabling C0004`),o[i()]="C0004:0",d({customMode:s.restrictions.modes.group,userGroup:p(u.tags)})):d()}).catch(()=>{d()}):d()}).catch(()=>{d()})}).catch(()=>{d()}):d()})},no=e=>{let t=[];s.categories.forEach(o=>{t.push(`${o}:1`)}),ke(s.cookies.interaction,new Date().toISOString(),e),I(t,!0).then(({customMode:o,userGroup:n}={})=>{o&&o!==s.restrictions.modes.user&&P.trackCustomConsent({source:"Custom",element:o,usePageLanguage:k(),customMode:o,userGroup:n})})},so=()=>{let e=A(),t=[];s.categories.forEach(o=>{t.push(`${o}:${e.indexOf(o)!==-1?"1":"0"}`)}),I(t,!0).then(({customMode:o,userGroup:n}={})=>{o&&o!==s.restrictions.modes.user&&P.trackCustomConsent({source:"Custom",element:o,usePageLanguage:k(),customMode:o,userGroup:n})})},ro=(e=[],t)=>{if(!_()){y.log("No existing consent, cannot disable categories");return}let o=A(),n=[],r=[];s.categories.forEach(i=>{if(i===s.categoriesDefault){n.push(`${i}:1`),r.push(i);return}if(o.indexOf(i)===-1){n.push(`${i}:0`);return}e.indexOf(i)===-1?(n.push(`${i}:1`),r.push(i)):n.push(`${i}:0`)}),r.sort().toString()!==o.sort().toString()?I(n,t):y.log("Consent has not changed, no need to update")},io=(e=[],t)=>{if(!_()){y.log("No existing consent, cannot enable categories");return}let o=A(),n=[],r=[];s.categories.forEach(i=>{if(i===s.categoriesDefault){n.push(`${i}:1`),r.push(i);return}if(o.indexOf(i)!==-1){n.push(`${i}:1`),r.push(i);return}e.indexOf(i)!==-1?(n.push(`${i}:1`),r.push(i)):n.push(`${i}:0`)}),r.sort().toString()!==o.sort().toString()?I(n,t):y.log("Consent has not changed, no need to update")},f={bindEvents:Se,disableCategories:ro,enableCategories:io,getConfiguration:be,getConsent:A,hasExistingConsent:_,hidePreferenceCenter:J,injectCSS:eo,loadOnClick:to,loadSDK:Pe,onBannerLoad:oe,refreshConsent:so,setButtonText:oo,setConsent:I,setImplicitConsent:no,showPreferenceCenter:re,triggerConsentEvent:ye,usePageLanguage:k,reloadOT:Yt};var x=new L({control:"privacy"}),co=()=>f.hasExistingConsent()?f.getConsent().sort():[s.categoriesDefault],ao=()=>{let e=f.getConsent();return f.hasExistingConsent()&&e.length&&e.length===s.categories.length},lo=()=>{let e=f.getConsent(),t=e.length===1&&e.indexOf(s.categoriesDefault)!==-1;return f.hasExistingConsent()&&e.length&&e.length!==s.categories.length&&!t},uo=()=>{f.showPreferenceCenter()},po=()=>new Promise(e=>{b(window.OneTrust)?(f.loadSDK(),e(f.onBannerLoad())):e()}),fo=()=>{var e;return(e=document.querySelector(s.selectors.banner))==null?void 0:e.classList.remove(s.selectors.holdBanner)};var mo=()=>{new URLSearchParams(window.location.search).get("autoConsent")!==null&&f.setImplicitConsent()},go=()=>{let t=new URLSearchParams(window.location.search).get("customOtDomainId");t!==null&&h(window,"fedsConfig.privacy.otDomainId")&&(window.fedsConfig.privacy.otDomainId=t,x.log(`Using custom domain id: ${t}`))},ho=()=>{let t=new URLSearchParams(window.location.search).get("customPrivacyLocation");t!==null&&(window.sessionStorage.setItem(s.location,JSON.stringify({country:t.toUpperCase()})),window.OneTrust=window.OneTrust||{},window.OneTrust.geolocationResponse={countryCode:t.toUpperCase(),stateCode:""},x.log("Using custom privacy location",t))},Co=(e={})=>{let t=h(window,"fedsConfig.privacy");if(b(t)){x.log("Configuration is missing, cannot initialize Privacy");return}if((!g(e,"setButtonText")||g(e,"setButtonText")&&e.setButtonText===!0)&&f.setButtonText(),mo(),B()||go(),ho(),new URLSearchParams(window.location.search).get("skipConsent")==="true"){O(s.events.privacyReject),x.log(`${s.events.privacyReject} dispatched`),x.log("Stop execution for Privacy logic");return}f.hasExistingConsent()?(f.loadOnClick(),f.refreshConsent()):Promise.all([G(),f.getConfiguration()]).then(([n,r])=>{((c,p)=>{if(b(c)||b(p))return x.log("Location or configuration are empty, fallback to loading OneTrust"),!0;let a=h(p,"RuleSet");if(!a)return!1;let d=a.filter(u=>u.Countries.indexOf(c.country.toLowerCase())!==-1&&!u.Global),l=!b(d[0]);return x.log("Active rule:",d[0]),x.log(`Is GDPR enforced: ${l}`),l})(n,r)?(f.injectCSS(),f.loadSDK(),f.bindEvents(),f.onBannerLoad().then(()=>{var c,p,a;h(window,"fedsConfig.privacy.holdBanner")&&((c=document.querySelector(s.selectors.banner))==null||c.classList.add(s.selectors.holdBanner)),(a=(p=window.Optanon)==null?void 0:p.GetDomainData())!=null&&a.ShowAlertNotice||(x.log("OneTrust location service: user is not GDPR enforced"),f.setImplicitConsent(r))})):f.setImplicitConsent(r),f.loadOnClick()}).catch(()=>{})},Ee={init:Co,events:s.events,activeCookieGroups:co,disable:f.disableCategories,enable:f.enableCategories,hasUserProvidedConsent:ao,hasUserProvidedCustomConsent:lo,loadResource:V,loadOneTrust:po,reloadOT:f.reloadOT,showBanner:fo,showConsentPopup:uo,showPreferenceCenter:f.showPreferenceCenter};window.adobePrivacy=Ee;window.adobePrivacy.init();})();
